# Callback Options

Callback functions are triggered both by the user interacting with the calendar in the DOM _and_ the developer using the imperative instance methods.

Each callback function receives a single object with relevant data to the type of callback it is, along with 3 common values:

1. `instance` - the datepicker instance. This is mostly just for convenience. It can be helpful for daterange pickers because you can check which instance is being triggered with the `instance.isFirst` property.
<!-- TODO - figure out if we're using the isFirst property to distinguish range pickers. -->
2. `trigger` - the source of what triggered the callback. This can be imperative methods, such as `selectDate` and `show` or user interactions with the DOM, such as `click`.
3. `triggerType` - the category of what triggered the callback - `user` or `imperative`.
<!-- TODO - list out all possible values for trigger. -->

`trigger` and `triggerType` give you the ability to have finer control over your callback logic. These values let you filter for specific scenarios if you want. Example:

```javascript
onSelect({prevDate, nextDate, trigger, triggerType}) {
  // Ignore any events that were generated by imperative methods.
  if (triggerType === 'imperative') return

  if (trigger === 'setMin') {
    // Only respond to when the `setMin` method is called.
  }

  // Your logic here...
}
```

## onSelect

Callback function triggered after a date has been selected. It will receive the previous and newly selected dates. If `newDate` is `undefined`, that means the calendar date has been de-selected.

### Type Declaration

```typescript
// Regular datepicker.
onSelect(data: {
  prevDate: Date | undefined
  newDate: Date | undefined

  // Common arguments.
  instance: DatepickerInstance // ðŸ‘€
  trigger: Trigger
  triggerType: TriggerType
}): void

// Daterange picker.
onSelect(data: {
  prevDate: Date | undefined
  newDate: Date | undefined

  // Common arguments.
  instance: DaterangePickerInstance // ðŸ‘€
  trigger: Trigger
  triggerType: TriggerType
}): void
```

**Default value:** `undefined`

### Example

```javascript
const picker = datepicker(selector, {
  onSelect({prevDate, nextDate, instance, trigger, triggerType}) {
    if (!nextDate) {
      // The date is being deselected.
    }

    if (nextDate) {
      // The date is being selected.
    }
  },
})
```

## onMonthChange

Callback function triggered after the month has changed visually on the calendar.

### Type Declaration

```typescript
onMonthChange(data: {
  prevDate: Date | undefined
  newDate: Date | undefined

  // Common arguments.
  instance: DatepickerInstance
  trigger: Trigger
  triggerType: TriggerType
}): void
```

**Default value:** `undefined`

### Example

```javascript
const picker = datepicker(selector, {
  onMonthChange({prevDate, nextDate, instance, trigger, triggerType}) {
    // Your logic here...
  },
})
```

## onShow

Callback function triggered every time the calendar goes from hidden to shown.

### Type Declaration

```typescript
onShow(data: {
  // Common arguments.
  instance: DatepickerInstance
  trigger: Trigger
  triggerType: TriggerType
}): void
```

**Default value:** `undefined`

### Example

```javascript
const picker = datepicker(selector, {
  onShow({instance, trigger, triggerType}) {
    // Your logic here...
  },
})
```

## onHide

Callback function triggered every time the calendar goes from shown to hidden.

### Type Declaration

```typescript
onHide(data: {
  // Common arguments.
  instance: DatepickerInstance
  trigger: Trigger
  triggerType: TriggerType
}): void
```

**Default value:** `undefined`

### Example

```javascript
const picker = datepicker(selector, {
  onHide({instance, trigger, triggerType}) {
    // Your logic here...
  },
})
```
